# ShiBuWanDu
”十步万度“穷举求解器   
如果不知道什么是“十步万度”，随便搜一下就知道了。   
   
作者很懒，没有写不规则形状的求解器以及指定开局的求解器，应该也就是几行代码的事。   
TODO 把这两个功能加上
   
## 使用说明
长宽和步数都在代码里直接设置，设置好之后编译   
   
打开程序后会提示输入两个数字。如果问题规模较小，直接输入两个0。两个0表示完整搜索。   
如果任务量很大需要开多个窗口并行，才需要考虑那两个数字。具体说明如下   

输入的两个数字表示第一步的搜索范围，左闭右开。   
>比如输入0 10，代表第一步从0搜到9。如果第二个数字是0，代表搜到最后一个。  < 
问题规模较大时，可以手动“多线程”，开几个窗口手动分配工作量。   
>例：H=6 W=5 MOVE=15，可以开4个窗口，分别输入"0 1"、"1 2"、"2 4"、"4 30"(或者"4 0",0会被自动转化为30)。   
这样四个窗口的任务量比较接近，四个窗口两个小时内都能解决。最后会保存文本文件，看一下哪个最多。   <
TODO 可以写一个智能一点的多线程，现在这个太笨蛋了   
   
## 原理
“十步万度”的步骤任意交换后结果不变，因此最终结果只取决于每个表盘点了多少次。
>为什么不变呢？并不显然，而且很反直觉，严谨证明应该也不是一两句话的事。如果谁有特别巧妙的严谨证明可以跟我说一下，比如发个issue或者pull request或者直接加我qq 2658628026。  <
写程序时，可以要求编号小的表盘一定先点，也就是后一个表盘的编号不得小于前一个表盘，这样一个很简单的递归就搞定了。   
这是个典型的高中经常讲的“有放回的抓取问题”。   
>假如有30个表盘，点击15次，那么路线总数为：C(15,30+15-1) = C(15,44) = 44!/15!/29! = 229911617056 = 2.3e11 = 2299亿   
2299亿个情况，家用机很快就能解决。我自己的电脑每个线程每秒穷举15M(1500万)个情况，开了4个窗口，不超过2小时。    <

## 讨论
感觉“可交换”是个非常神奇的性质，我怀疑这个东西背后有一些更本质的东西，但是我数学水平太差，也没学过抽象代数之类的。期待某个数学大佬来研究一下这个问题。

## 其他
以前我做过的一些同类型的问题：   
单人跳棋：最少27步，状态数26亿  https://github.com/hzyhhzy/tiaoqimeiju
浅塘：最多51步，状态数（所有可能的“关卡”）270亿，如果把出口位置挪到第二行则存在一个64步的局面    https://github.com/hzyhhzy/QianTangSolver


